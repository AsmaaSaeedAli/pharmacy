<div bsModal #customerLoyaltyModal="bs-modal" class="modal fade" tabindex="-1" role="dialog"
    aria-labelledby="customerLoyaltyModal" aria-hidden="true" [config]="{backdrop: 'static'}">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            
                <div class="modal-header">
                    <h4 class="modal-title">
                        <span >{{l("LoyaltySales")}}</span>
                    </h4>
                    <button type="button" class="close" (click)="close()" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>

                <div class="modal-body">
                    <div [class]="containerClass + ' kt-grid__item kt-grid__item--fluid'">
                        <div class="kt-portlet kt-portlet--mobile">
                            <div class="kt-portlet__body">
                                <div class="row align-items-center">
                                    <!--<Primeng-Datatable-Start>-->
                                    <div class="primeng-datatable-container" [busyIf]="primengTableHelper.isLoading">
                                        <p-table #dataTable (onLazyLoad)="getCustomerLoyalty($event)"
                                            [value]="primengTableHelper.records"
                                            rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"
                                            [paginator]="false" [lazy]="true" [scrollable]="true" ScrollWidth="100%"
                                            [responsive]="primengTableHelper.isResponsive"
                                            [resizableColumns]="primengTableHelper.resizableColumns">
                                            <ng-template pTemplate="header">
                                                <tr>
                                                    <th style="width: 130px">
                                                        {{ l("InvoiceNo") }}
                                                    </th>
                                                    <th style="width: 150px">
                                                        {{ l("CustomerName") }}
                                                    </th>
                                                    <th style="width: 100px">
                                                        {{ l("Date") }}
                                                    </th>
                                                    <th style="width: 150px">
                                                        {{ l("InvoiceType") }}
                                                    </th>
                                                    <th style="width: 100px">
                                                        {{ l("NetAmount") }}
                                                    </th>

                                                </tr>
                                            </ng-template>
                                            <ng-template pTemplate="body" let-record="$implicit">
                                                <tr>
                                                    <td style="width:130px">
                                                        <span class="ui-column-title"> {{ l("InvoiceNo") }}</span>
                                                        {{ record.invoiceNumber }}
                                                    </td>
                                                    <td style="width:150px">
                                                        <span class="ui-column-title"> {{ l("CustomerName") }}</span>
                                                        {{ record.customerName }}
                                                    </td>
                                                    <td style="width:130px">
                                                        <span class="ui-column-title"> {{ l("CreatedOn") }}</span>
                                                        {{ record.invoiceDate | momentFormat : 'DD/MM/YYYY' }}
                                                    </td>
                                                    <td style="width:150px">
                                                        <span class="ui-column-title"> {{ l("InvoiceType") }}</span>
                                                        {{ record.invoiceType }}
                                                    </td>
                                                    <td style="width:100px">
                                                        <span class="ui-column-title"> {{ l("NetAmount") }}</span>
                                                        {{ record.amount }}
                                                    </td>
                                                   
                                                </tr>
                                            </ng-template>
                                        </p-table>
                                        <div class="primeng-no-data" *ngIf="primengTableHelper.totalRecordsCount == 0">
                                            {{ l("NoData") }}
                                        </div>
                                        <div class="primeng-paging-container">
                                            <p-paginator rows="{{ primengTableHelper.defaultRecordsCountPerPage }}"
                                                #paginator (onPageChange)="getCustomerLoyalty($event)"
                                                [totalRecords]="primengTableHelper.totalRecordsCount"
                                                [rowsPerPageOptions]="primengTableHelper.predefinedRecordsCountPerPage">
                                            </p-paginator>
                                            <span class="total-records-count">
                                                {{ l("TotalRecordsCount", primengTableHelper.totalRecordsCount) }}
                                            </span>
                                        </div>
                                    </div>
                                    <!--<Primeng-Datatable-End>-->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default"
                        (click)="close()">{{l("Close")}}</button>
                </div>
        </div>
    </div>
</div>